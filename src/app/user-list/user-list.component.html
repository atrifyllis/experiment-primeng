<md-card>
	<md-card-title>Users</md-card-title>

	<div fxLayout="column" fxLayoutGap="10px">
		<div fxLayout="row" id="filterRow">
			<div fxFlex="1 1 auto">
				<md-input-container>
					<input #gb mdInput placeholder="Global Filter">
					<md-icon mdPrefix>search</md-icon>
				</md-input-container>
			</div>
			<div fxFlex="0 1 auto">
				<button md-fab (click)="create.emit()">
					<md-icon>add</md-icon>
				</button>
			</div>
		</div>

		<p-dataTable [value]="users" [responsive]="true" [globalFilter]="gb" rowHover="true"
					 [rows]="5" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]"
					 sortField="username">
			<p-column field="_links.self.href" hidden="true"></p-column>
			<p-column field="username" header="Username" [sortable]="true"></p-column>
			<p-column field="email" header="Email"></p-column>
			<p-column header="Action" styleClass="col-button">
				<ng-template let-user="rowData" pTemplate="body">
					<button md-mini-fab (click)="edit.emit(user)">
						<md-icon>edit</md-icon>
					</button>
					<button md-mini-fab color="warn" (click)="remove.emit(user)">
						<md-icon>delete</md-icon>
					</button>
				</ng-template>
			</p-column>
		</p-dataTable>
	</div>
</md-card>

<form-dialog [selectedUser]="selectedUser" [userForm]="userForm"
			(update)=onSubmit() (close)="onClose()">
</form-dialog>
